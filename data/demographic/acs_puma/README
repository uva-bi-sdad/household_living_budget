ACS 5-YR household data from the University of Minnesotaâ€™s Integrated Public Use Microdata Series.

The microdata was obtain from IPUMS (https://usa.ipums.org/usa/) that collects, preserves and harmonizes U.S. census microdata. 
After the selection of variables for the specific state (i.e. Virginia), two files need to be downloaded. 
The two files contain extensions .xml and .gz.  
- The .xml file is a file format for storing and reconstructing data. This file is the key to access the data.
- The .gz file contains the data.  This data is accessed and read after the .xml file is activated.

These are the steps to open the data files from IPUMS and they are at the top section of the Rmd code chunk from file fairfax_hlb.Rmd:
# Household (HH) configuration by PUMA becomes HH configuration by tract

1. Obtain the url links to the raw information for both files.  
This step may be completed by clicking on the "Raw" bottom on top right corner of GitHub page containing the file. 
Obtain the url for both the .xml and .gz files: url_xml and url_gz, respectively

2. Download the files to make them available for use
download.file(url_xml,'fairfax_va_acs_puma_households_2020.xml')
download.file(url_gz,'fairfax_va_acs_puma_households_2020.dat.gz')

3. Read the .xml file to obtain key to data
Use read_ipums_ddi() function. Previously, activate library(ipumsr) or install.packages("ipumsr"), if necessary. 
The DDI is a specification, most often expressed in xml to provide format of content, description, distribution of data. 
ddi_2020_5year <- read_ipums_ddi('fairfax_va_acs_puma_households_2020.xml')

4. Rename the file with appropiate name

5. Read the ipums micro data using the .xml file (using the key to open the info)
data <- read_ipums_micro(ddi_2020_5year)


-------- Note ------
Note: If GitHub Repo is cloned in your computer, you can just follow these steps recommended from IPUMS:

To load data, you must download both the extract's data and the DDI
and also set the working directory to the folder with these files (or change the path below).

Also, make sure to install packages in R: install.packages('ipumsr')

The data set loads with these two lines:

ddi <- read_ipums_ddi("--file name--.xml")
data <- read_ipums_micro(ddi)


---- Data Dictionary  -------

library(labelled)
look_for(data)

pos variable label                                          col_type missing levels
  1  YEAR     Census year                                    int      0             
  2  MULTYEAR Actual year of survey, multi-year ACS/PRCS     dbl      0             
  3  SAMPLE   IPUMS sample identifier                        int+lbl  0             
  4  SERIAL   Household serial number                        dbl      0             
  5  CBSERIAL Original Census Bureau household serial number dbl      0             
  6  HHWT     Household weight                               dbl      0             
  7  CLUSTER  Household cluster for variance estimation      dbl      0             
  8  STATEFIP State (FIPS code)                              int+lbl  0             
  9  PUMA     Public Use Microdata Area                      dbl+lbl  0             
 10  STRATA   Household strata for variance estimation       dbl      0             
 11  GQ       Group quarters status                          int+lbl  0             
 12  HHINCOME Total household income                         dbl+lbl  0             
 13  PERNUM   Person number in sample unit                   dbl      0             
 14  PERWT    Person weight                                  dbl      0             
 15  FAMSIZE  Number of own family members in household      int+lbl  0             
 16  AGE      Age                                            int+lbl  0             
 17  FTOTINC  Total family income                            dbl+lbl  0             

Complete IPUMS data dictionary can be found at: https://usa.ipums.org/usa/resources/codebooks/DataDict1620.pdf 

